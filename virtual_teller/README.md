# 银行虚拟柜员系统

## 项目概述

银行虚拟柜员系统是基于阿雅语音助手开发的专业银行服务系统，旨在为银行客户提供智能化、安全、合规的自助服务体验。该系统结合了语音识别(ASR)、语音活动检测(VAD)、大语言模型(LLM)和语音合成(TTS)技术，提供类GPT-4o的语音对话体验。

## 系统特点

- **专业银行服务**：专门为银行场景设计，提供账户查询、交易记录、理财产品推荐等服务
- **安全保障**：多重身份验证、合规检查和敏感信息保护机制
- **合规性保证**：内置合规检查模块，确保所有交互符合银行业监管要求
- **模块化设计**：继承阿雅的模块化架构，便于扩展和维护
- **语音交互**：支持自然语言语音交互，提供类人工客服的体验

## 目录结构

```
virtual_teller/
├── config/                  # 配置文件
│   ├── teller_config.yaml   # 虚拟柜员配置
│   └── banking_functions.json # 银行功能定义
├── core/                    # 核心模块
│   ├── teller_robot.py      # 虚拟柜员机器人核心
│   └── banking_services/    # 银行核心服务
│       ├── __init__.py
│       ├── account_service.py  # 账户服务
│       ├── transaction_service.py # 交易服务
│       ├── product_service.py  # 产品服务
│       └── bank_api.py      # 银行API接口
├── banking/                 # 银行业务逻辑
│   ├── __init__.py
│   ├── bank_operations.py   # 银行操作处理
├── security/                # 安全和合规模块
│   ├── __init__.py
│   └── compliance_checker.py # 合规检查器
├── utils/                   # 工具类
│   ├── __init__.py
│   └── auth_utils.py        # 认证工具
├── main.py                  # 主程序入口
└── README.md                # 说明文档
```

## 核心功能

### 1. 账户服务
- 账户余额查询
- 账户信息查询
- 客户账户列表查询

### 2. 交易服务
- 交易历史记录查询
- 转账操作
- 交易详情查询

### 3. 产品服务
- 理财产品推荐和查询
- 贷款产品查询
- 信用卡产品查询

### 4. 安全与合规
- 多重身份验证
- 敏感信息保护
- 合规性检查
- 会话管理

## 配置说明

虚拟柜员系统的主要配置文件位于 `config/teller_config.yaml`，包括：

- 模块选择配置
- 银行服务专用配置
- 安全和合规配置
- 会话超时设置

## 启动方式

```bash
# 进入项目根目录
cd virtual_teller

# 运行虚拟柜员系统
python main.py
```

## 技术架构

### 模块化设计
系统采用模块化设计，各模块相互独立：
- **核心模块**：虚拟柜员机器人核心逻辑
- **银行服务模块**：账户、交易、产品等银行核心服务
- **安全模块**：身份验证、合规检查等安全机制
- **工具模块**：辅助工具类

### 数据流
1. 用户语音输入 → VAD检测有效语音 → ASR转文本 → LLM处理 → 银行业务逻辑处理 → TTS转语音 → 播放回复
2. 系统内置合规检查，确保所有交互符合银行监管要求
3. 敏感操作需要多重身份验证

## 安全机制

1. **身份验证**：多因素身份验证机制
2. **会话管理**：会话超时自动清理
3. **合规检查**：内置合规性检查模块
4. **敏感信息保护**：防止敏感信息泄露
5. **操作日志**：详细的操作日志记录

## 扩展性

系统设计具有良好的扩展性，可以通过以下方式扩展功能：

1. 添加新的银行服务模块
2. 扩展合规检查规则
3. 增加新的身份验证方式
4. 集成真实的银行API接口